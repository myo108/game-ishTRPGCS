function displayTime(){var e=new Date,a=String(e.getHours()).padStart(2,0),t=String(e.getMinutes()).padStart(2,0),r=String(e.getSeconds()).padStart(2,0),n=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,0),e=String(e.getDate()).padStart(2,0);document.getElementById("year").innerHTML=n,document.getElementById("month").innerHTML=c,document.getElementById("day").innerHTML=e,document.getElementById("hours").innerHTML=a,document.getElementById("minutes").innerHTML=t,document.getElementById("second").innerHTML=r}function topPageRandomCharacter(){var e=characters[e=characters,Object.keys(e)[Math.random()*Object.keys(e).length|0]];document.getElementById("charaImg").innerHTML='<img src="'+e.topPageImage+'" width="800px" draggable="false">',document.getElementById("charaName").innerHTML="<h3>"+e.name+"</h3>",document.getElementById("charaDialog").innerHTML="<p>"+e.dialog+"</p>"}function randomLoadingPage(){var e=loading[e=loading,Object.keys(e)[Math.random()*Object.keys(e).length|0]];document.getElementById("loadingScreenTitle").innerHTML=e.title,document.getElementById("loadingScreenContents").innerHTML=e.contents}setInterval(displayTime,500),topPageRandomCharacter(),$("#exploreBtn").click(function(){randomLoadingPage();var e=Math.floor(5e3*Math.random())+1e3;$("#loading").fadeIn(),$(".explore").delay(e).fadeIn(),$("#loading").delay(e).fadeOut()}),$(".explore .back").click(function(){randomLoadingPage();var e=Math.floor(5e3*Math.random())+1e3;$("#loading").fadeIn(),$(".explore").delay(e).fadeOut(),$("#loading").delay(e).fadeOut(),topPageRandomCharacter()}),$("#listBtn").click(function(){randomLoadingPage();var e=Math.floor(5e3*Math.random())+1e3;$("#loading").fadeIn(),$(".characters").delay(e).fadeIn(),$("#loading").delay(e).fadeOut()}),$(".characters .back").click(function(){randomLoadingPage();var e=Math.floor(5e3*Math.random())+1e3;$("#loading").fadeIn(),$(".characters").delay(e).fadeOut(),$("#loading").delay(e).fadeOut(),topPageRandomCharacter()});var slider=tns({container:".eventSlider",items:1,slideBy:1,autoplay:!0,controls:!1,mouseDrag:!0,nav:!1,autoplayTimeout:5e3,autoplayButtonOutput:!1});const exploreTrack=document.getElementById("scenarioList"),exploreHandleOnDown=e=>{exploreTrack.dataset.exploreMouseDownAt=e.clientX},exploreHandleOnUp=()=>{exploreTrack.dataset.exploreMouseDownAt="0",exploreTrack.dataset.explorePrevPercentage=exploreTrack.dataset.explorePercentage},exploreHandleOnMove=e=>{"0"!==exploreTrack.dataset.exploreMouseDownAt&&(e=(parseFloat(exploreTrack.dataset.exploreMouseDownAt)-e.clientX)/(window.innerWidth/.75)*-100,e=parseFloat(exploreTrack.dataset.explorePrevPercentage)+e,e=Math.max(Math.min(e,-1),-62.5),exploreTrack.dataset.explorePercentage=e,exploreTrack.style.transform=`translate(${e}%,-50%)`)},characterTrack=(exploreTrack.onmousedown=e=>exploreHandleOnDown(e),exploreTrack.ontouchstart=e=>exploreHandleOnDown(e.touches[0]),exploreTrack.onmouseup=e=>exploreHandleOnUp(e),exploreTrack.ontouchend=e=>exploreHandleOnUp(e.touches[0]),exploreTrack.onmousemove=e=>exploreHandleOnMove(e),exploreTrack.ontouchmove=e=>exploreHandleOnMove(e.touches[0]),document.getElementById("PCList")),characterHandleOnDown=e=>{characterTrack.dataset.characterMouseDownAt=e.clientX},characterHandleOnUp=()=>{characterTrack.dataset.characterMouseDownAt="0",characterTrack.dataset.characterPrevPercentage=characterTrack.dataset.characterPercentage},characterHandleOnMove=e=>{"0"!==characterTrack.dataset.characterMouseDownAt&&(e=(parseFloat(characterTrack.dataset.characterMouseDownAt)-e.clientX)/(window.innerWidth/.75)*-100,e=parseFloat(characterTrack.dataset.characterPrevPercentage)+e,e=Math.max(Math.min(e,-.8),-70.5),characterTrack.dataset.characterPercentage=e,characterTrack.style.transform=`translate(${e}%,-50%)`)};characterTrack.onmousedown=e=>characterHandleOnDown(e),characterTrack.ontouchstart=e=>characterHandleOnDown(e.touches[0]),characterTrack.onmouseup=e=>characterHandleOnUp(e),characterTrack.ontouchend=e=>characterHandleOnUp(e.touches[0]),characterTrack.onmousemove=e=>characterHandleOnMove(e),characterTrack.ontouchmove=e=>characterHandleOnMove(e.touches[0]),document.querySelectorAll(".listedScenario").forEach(e=>{e.addEventListener("click",e=>{$(".dialogBackground").fadeIn(),$(".scenarioDialog").attr("open","open");e=clearedScenario[e.currentTarget.dataset.scenarioName];document.getElementById("scenarioImg").src=e.scenarioImg,document.getElementById("scenarioImg").alt=e.title,document.getElementById("scenarioName").innerHTML=e.title,document.getElementById("authorKP").innerHTML=e.authorKeeper,document.getElementById("scenarioLink").setAttribute("href",e.scenarioLink),document.getElementById("site").innerHTML=e.site,document.getElementById("clearedDate").innerHTML=e.date,document.getElementById("PCName").innerHTML=e.PC,document.getElementById("scenarioComment").innerHTML=e.comment})}),document.querySelectorAll(".listedChara").forEach(e=>{e.addEventListener("click",e=>{$(".dialogBackground").fadeIn(),$(".characterDialog").attr("open","open");var e=characters[e.currentTarget.dataset.characterName],a=(document.getElementById("characterListImg").src=e.fullImage,document.getElementById("characterListImg").alt=e.name,document.getElementById("characterListName").innerHTML="<ruby><rb>"+e.name+"</rb><rp>(</rp><rt>"+e.ruby+"</rt><rp>)</rp></ruby>",document.getElementById("characterAge").innerHTML=e.age,document.getElementById("characterJob").innerHTML=e.job,document.getElementById("characterComment").innerHTML=e.comment,document.querySelector(".collapsibleContent").innerHTML=e.scenario,e.system),t="STR "+e.STR+" | CON "+e.CON+" | POW "+e.POW+" | DEX "+e.DEX+" <br> APP "+e.APP+" | SIZ "+e.SIZ+" | INT "+e.INT+" | EDU "+e.EDU,r="好奇心："+e.intrest+" | 恐怖心："+e.fear+"<br>"+e.insaneSkilSet,n="身体 "+e.physic+" | 器用 "+e.clever+" | 精神 "+e.mental+" | 五感 "+e.sense+"<br>知力 "+e.wisdom+" | 魅力 "+e.charm+" | 社会 "+e.social+" | 運勢 "+e.luck;switch(a){case"CoC6th":document.getElementById("characterStatistic").innerHTML=t;break;case"inSANe":document.getElementById("characterStatistic").innerHTML=r;break;case"multiple":document.getElementById("characterStatistic").innerHTML=n+"<br>"+t}})}),$(".collapsible").on("click",function(){$(".collapsibleContent").slideToggle(),$(this).toggleClass("activatedCollapsible")}),$(".closeDialog").click(function(){$(".dialogBackground").fadeOut(),$(this).parent().removeAttr("open","open"),$(".collapsibleContent").slideUp()});